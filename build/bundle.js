(()=>{var e={108:(e,t,r)=>{var n=r(464),o=r(84);function i(){return(new Date).getTime()}var u,a=Array.prototype.slice,s={};u="undefined"!=typeof global&&global.console?global.console:"undefined"!=typeof window&&window.console?window.console:{};for(var c=[[function(){},"log"],[function(){u.log.apply(u,arguments)},"info"],[function(){u.log.apply(u,arguments)},"warn"],[function(){u.warn.apply(u,arguments)},"error"],[function(e){s[e]=i()},"time"],[function(e){var t=s[e];if(!t)throw new Error("No such label: "+e);delete s[e];var r=i()-t;u.log(e+": "+r+"ms")},"timeEnd"],[function(){var e=new Error;e.name="Trace",e.message=n.format.apply(null,arguments),u.error(e.stack)},"trace"],[function(e){u.log(n.inspect(e)+"\n")},"dir"],[function(e){if(!e){var t=a.call(arguments,1);o.ok(!1,n.format.apply(null,t))}},"assert"]],d=0;d<c.length;d++){var l=c[d],f=l[0],p=l[1];u[p]||(u[p]=f)}e.exports=u},155:e=>{var t,r,n=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function u(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var a,s=[],c=!1,d=-1;function l(){c&&a&&(c=!1,a.length?s=a.concat(s):d=-1,s.length&&f())}function f(){if(!c){var e=u(l);c=!0;for(var t=s.length;t;){for(a=s,s=[];++d<t;)a&&a[d].run();d=-1,t=s.length}a=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new p(e,t)),1!==s.length||c||u(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},681:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dName=void 0;const n=r(17),o=__filename,i=(0,n.dirname)(o);t.dName=e=>(0,n.join)(i,e)},752:function(e,t,r){"use strict";var n,o=r(155),i=r(108),u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(541),s=r(681),c=r(491),d=r(629),l=u(r(567)),f=u(r(860)),p=(0,f.default)();p.use(f.default.json()),p.use(f.default.urlencoded({extended:!1})),p.use((0,l.default)("_method")),p.set("views",(0,s.dName)("views")),p.set("view engine","ejs"),p.use(f.default.static((0,s.dName)("public"))),p.use("/editar/",f.default.static((0,s.dName)("public"))),p.use(a.paginaPrincipal),p.use(d.form),p.use(c.pageNotFound),p.listen(null!==(n=o.env.PORT)&&void 0!==n?n:8080,(()=>{var e;return i.log(`server en http://localhost:${null!==(e=o.env.PORT)&&void 0!==e?e:8080}`)}))},430:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function u(e){try{s(n.next(e))}catch(e){i(e)}}function a(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(u,a)}s((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.saveInfoInDB=t.renderForm=void 0;const o=r(828),i=r(233);t.renderForm=(e,t)=>t.render("form"),t.saveInfoInDB=(e,t)=>n(void 0,void 0,void 0,(function*(){const{game:r,image:n,created_by:u}=e.body,a={game:r,image:n,created_by:u,uuid_front_end:(0,o.v4)()},{data:s,error:c}=yield i.supabase.from("juegos").insert([a]);return t.redirect("/"),s}))},366:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pageNotFoundController=void 0,t.pageNotFoundController=(e,t)=>t.render("page_not_found")},296:function(e,t,r){"use strict";var n=r(108),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function u(e){try{s(n.next(e))}catch(e){i(e)}}function a(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(u,a)}s((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateElementDB=t.viewFormUpdate=t.deleteElementDB=t.createConnectionDB=void 0;const i=r(233);t.createConnectionDB=(e,t)=>o(void 0,void 0,void 0,(function*(){const{data:e,error:r}=yield i.supabase.from("juegos").select("*");r?n.log(r):t.render("pagina-principal",{juegos:e})})),t.deleteElementDB=(e,r)=>o(void 0,void 0,void 0,(function*(){const o=e.params.uuid_front_end.toString(),{data:u,error:a}=yield i.supabase.from("juegos").select().eq("uuid_front_end",o).limit(1);if(a)n.log(`Hubo un error ${a}`);else if(u.length>0){const{data:e,error:u}=yield i.supabase.from("juegos").delete().match({uuid_front_end:o});if(u)return n.log(`Hubo un error ${t.deleteElementDB}`),void r.redirect("/");n.log("Registro eliminado con exito"),r.redirect("/")}else n.log("Registro no encontrado")})),t.viewFormUpdate=(e,t)=>o(void 0,void 0,void 0,(function*(){const r=e.params.uuid_front_end.toString(),{data:n,error:o}=yield i.supabase.from("juegos").select().eq("uuid_front_end",r).limit(1);n&&n.map((({game:e})=>t.render("form2",{game:e,uuid_front_end:r})))})),t.updateElementDB=(e,t)=>o(void 0,void 0,void 0,(function*(){const{game:r,image:o,uuid_front_end:u}=e.body;n.log(e.body);const{data:a,error:s}=yield i.supabase.from("juegos").update({game:r,image:o}).eq("uuid_front_end",u);n.log(a),s?n.log(`Hubo un error ${s}`):t.redirect("/")}))},233:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supabase=void 0;const n=r(885);t.supabase=(0,n.createClient)("https://ougeymutusanktixpahz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im91Z2V5bXV0dXNhbmt0aXhwYWh6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODY2Njc4NzAsImV4cCI6MjAwMjI0Mzg3MH0.BywP8GSnS0liamzkkwF_PUxW0TCf37_bJJktC7z96Ug",{db:{schema:"public"},auth:{autoRefreshToken:!0,persistSession:!1,detectSessionInUrl:!0}})},629:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.form=void 0;const o=n(r(860)),i=r(430);t.form=o.default.Router(),t.form.get("/form",i.renderForm),t.form.post("/form",i.saveInfoInDB)},491:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.pageNotFound=void 0;const o=n(r(860)),i=r(366);t.pageNotFound=o.default.Router(),t.pageNotFound.use(i.pageNotFoundController)},541:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.paginaPrincipal=void 0;const o=n(r(860)),i=r(296);t.paginaPrincipal=o.default.Router(),t.paginaPrincipal.get("/",i.createConnectionDB),t.paginaPrincipal.delete("/eliminar/:uuid_front_end",i.deleteElementDB),t.paginaPrincipal.get("/editar/:uuid_front_end",i.viewFormUpdate),t.paginaPrincipal.post("/editar/:uuid_front_end",i.updateElementDB)},885:e=>{"use strict";e.exports=require("@supabase/supabase-js")},84:e=>{"use strict";e.exports=require("assert")},860:e=>{"use strict";e.exports=require("express")},567:e=>{"use strict";e.exports=require("method-override")},464:e=>{"use strict";e.exports=require("util")},828:e=>{"use strict";e.exports=require("uuid")},17:e=>{"use strict";e.exports=require("path")}},t={};!function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}(752)})();